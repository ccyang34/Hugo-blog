<div class="article-details">


    <div class="article-title-wrapper">
        <h2 class="article-title">
            <span class="headline-tag">头条</span>
            <a href="{{ .RelPermalink }}">
                {{- .Title -}}
            </a>
        </h2>

        {{ with .Params.description }}
        <h3 class="article-subtitle">
            {{ . }}
        </h3>
        {{ end }}
    </div>

    {{ $showReadingTime := .Params.readingTime | default (.Site.Params.article.readingTime) }}
    {{ $showDate := not .Date.IsZero }}
    {{ $showFooter := or $showDate $showReadingTime }}
    {{ if $showFooter }}
    <footer class="article-time">
        {{ if $showDate }}
        <div>
            {{ partial "helper/icon" "date" }}
            <time class="article-time--published" datetime='{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}'>
                {{- .Date | time.Format (or .Site.Params.dateFormat.published "Jan 02, 2006") -}}
            </time>
        </div>
        {{ end }}

        {{/* 始终显示阅读时长或文章数量（分类页显示数量） */}}
        <div>
            {{ partial "helper/icon" "clock" }}
            <time class="article-time--reading">
                {{ if eq .Kind "term" }}
                {{ len .Pages }} 篇文章
                {{ else }}
                {{ T "article.readingTime" .ReadingTime }}
                {{ end }}
            </time>
        </div>

        {{/* 分类标签 - 放在阅读时长后面 */}}
        {{ if .Params.categories }}
        <div class="article-category-footer">
            {{ range (.GetTerms "categories") }}
            <a href="{{ .RelPermalink }}" class="category-tag" {{ with .Params.style
                }}style="background-color: {{ .background }}; color: {{ .color }};" {{ end }}>
                {{ .LinkTitle }}
            </a>
            {{ end }}
        </div>
        {{ end }}

        {{/* View Count - Only show on single pages to avoid appearing on list pages */}}
        {{ if .IsPage }}
        <div class="article-view-count">
            <span id="busuanzi_container_page_pv">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye" width="24" height="24"
                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <circle cx="12" cy="12" r="2" />
                    <path
                        d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7" />
                </svg>
                <span><span id="busuanzi_value_page_pv">--</span> 次阅读</span>
            </span>
            {{/* 收藏按钮 - 放在阅读次数后面 */}}
            {{ $categories := slice }}
            {{ range .GetTerms "categories" }}
            {{ $categories = $categories | append .LinkTitle }}
            {{ end }}
            <button class="favorite-btn" data-permalink="{{ .Permalink }}" data-title="{{ .Title }}"
                data-date="{{ .Date.Unix }}" data-reading-time="{{ .ReadingTime }}"
                data-categories="{{ delimit $categories " ," }}" onclick="toggleFavorite(this)" aria-label="收藏文章">
                <svg class="favorite-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon
                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                    </polygon>
                </svg>
            </button>
        </div>
        {{ end }}
    </footer>
    {{ end }}

    {{ if .IsTranslated }}
    <footer class="article-translations">
        {{ partial "helper/icon" "language" }}
        <div>
            {{ range .Translations }}
            <a href="{{ .Permalink }}" class="link">{{ .Language.LanguageName }}</a>
            {{ end }}
        </div>
    </footer>
    {{ end }}
</div>